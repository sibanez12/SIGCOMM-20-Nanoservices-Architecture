\documentclass[sigconf,10pt,preprint,balance]{acmart}
%\documentclass[sigplan,10pt,preprint]{acmart}

\input{packages}
\input{settings}

%%
%% Setup annotations and comments
\if\showcomments1
    \usepackage[textsize=tiny]{todonotes}
\else
    \usepackage[disable]{todonotes}
\fi

\begin{document}

%%
%% The "title" command has an optional parameter,
%% allowing the author to define a "short title" to be used in page headers.
\title{The nanoPU: From Microservices to Nanoservices}
%\titlenote{\color{red} Under submission: please do not distribute.}
%\subtitle{\small \color{red} (Under submission: please do not distribute)}

\author{Paper \#52}
\affiliation{\institution{\pageref{lastpage} Pages Body, \pageref{totalpage} Pages Total}}
% \affiliation{
%   \institution{\em Stanford University}
% }

% The default list of authors is too long for headers}
%\renewcommand{\shortauthors}{X et al.}

% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
% Please copy and paste the code instead of the example below. 

% \begin{CCSXML}
% <ccs2012>
% <concept>
% <concept_id>10010583.10010588.10010593</concept_id>
% <concept_desc>Hardware~Networking hardware</concept_desc>
% <concept_significance>500</concept_significance>
% </concept>
% </ccs2012>
% \end{CCSXML}

% \ccsdesc[500]{Hardware~Networking hardware}

% We no longer use \terms command
%\terms{Theory}

% \keywords{Programmable NIC; PISA; and P4;}

%%
%% Setup todo notes for comments and annotations
\if\showcomments1
    \setcounter{page}{0}
    \listoftodos {}
    \clearpage
\fi

\input{text/abstract}

\maketitle

%% Removes running page headers
\if\removepageheaders1
    \pagestyle{plain}
\fi

\input{text/introduction}
\input{text/nanoservices}
\input{text/nanopu}
\input{text/prototype}
\input{text/evaluations}
\input{text/reproducibility}
\input{text/discussion}
\input{text/related}
\input{text/conclusion}

\label{lastpage}

{\footnotesize 
\bibliographystyle{acm}
\bibliography{reference}
}

\label{totalpage}

\end{document}